### prompt start
# Write a Bash script to monitor a directory and automatically compress new files.
### prompt end
directory=$1
inotifywait -m $directory -e create -e moved_to |
    while read path action file; do
        echo "The file '$file' has been $action in directory '$path'"
        tar -czf "$path/$file.tar.gz" "$path/$file"
    done