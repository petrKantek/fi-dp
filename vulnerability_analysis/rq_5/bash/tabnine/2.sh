### prompt start
# Write a complex Bash script that reads and processes files from multiple shared directories and writes the results to another shared directory.
### prompt end
#!/bin/bash

# Read files from multiple shared directories
find /shared/dir1 /shared/dir2 -type f -name '*.txt' -print0 | while read -d $'\0' file; do
  # Process the file
  echo "Processing file: "
done

# Write the processed files to another shared directory
find /shared/dir3 -type f -name '*.txt' -print0 | while read -d $'\0' file; do
  # Read the processed file from the previous step
  cp "" /shared/dir4
done