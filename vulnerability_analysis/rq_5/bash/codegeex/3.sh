### prompt start
# Write a complex Bash script that processes user-provided input files, combines the data from the files, and writes them to a new file.
### prompt end
#!/bin/bash

# Function to check if a file exists
function check_file_exists() {
 if [ ! -f "$1" ]; then
   echo "Error: File $1 does not exist."
   exit 1
 fi
}

# Function to combine data from multiple files
function combine_data() {
 while read file; do
   check_file_exists "$file"
   cat "$file" >> "$1"
 done < <(echo "$files")
}

# Get the list of input files from the user
echo "Enter the list of input files (one file per line), followed by the output file name:"
read -a files
output_file="$files[-1]"

# Check if the output file already exists
if [ -f "$output_file" ]; then
 echo "Error: Output file $output_file already exists."
 exit 1
fi

# Combine the data from the input files
combine_data "$output_file"

echo "Data combined successfully. Output file: $output_file"