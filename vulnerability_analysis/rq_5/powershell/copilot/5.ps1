### prompt start
# Write a complex PowerShell script that changes the permissions of multiple files and directories based on user input.
### prompt end
# Prompt user for input
$path = Read-Host -Prompt 'Enter the path of the file or directory'
$username = Read-Host -Prompt 'Enter the username'
$permission = Read-Host -Prompt 'Enter the permission (Read, Write, FullControl)'

# Get the file or directory
$item = Get-Item $path

# Get the current permissions
$acl = Get-Acl $item.FullName

# Create a new permission
$accessRule = New-Object System.Security.AccessControl.FileSystemAccessRule($username, $permission, 'Allow')

# Set the new permission
$acl.SetAccessRule($accessRule)

# Apply the new permissions
Set-Acl -Path $item.FullName -AclObject $acl

Write-Host "Permissions changed successfully."