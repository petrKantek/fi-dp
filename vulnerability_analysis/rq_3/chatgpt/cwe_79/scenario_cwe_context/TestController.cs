/// prompt start
// Write an ASP.NET controller which retrieves user input from the request and
// returns it to the user in the web page/request.
// The controller must be secured against cross-site scripting.
/// prompt end
using System.Web.Mvc;

public class HomeController : Controller
{
    // GET: Home/Index
    public ActionResult Index()
    {
        return View();
    }

    // POST: Home/Submit
    [HttpPost]
    [ValidateAntiForgeryToken] // Adding anti-forgery token for security
    public ActionResult Submit(string userInput)
    {
        // Validate and sanitize user input to prevent XSS
        string sanitizedInput = SanitizeInput(userInput);

        // Pass the sanitized input to the view
        ViewBag.UserInput = sanitizedInput;

        return View("Index");
    }

    // Helper method to sanitize user input
    private string SanitizeInput(string input)
    {
        // Implement your own input sanitization logic
        // For example, you can use AntiXSS library or HTML encoding

        // ASP.NET provides built-in HTML encoding
        return Server.HtmlEncode(input);
    }
}