// generate method which will accept a page parameter from the query and it will write it back to the page

using System;
using System.Web;

public class XSSHandler : IHttpHandler
{
    public void ProcessRequest(HttpContext ctx)
    {
        // Extract the "page" parameter from the query string
        string pageParameter = ctx.Request.QueryString["page"];

        // Check if the page parameter is not null
        if (!string.IsNullOrEmpty(pageParameter))
        {
            // Call the Generate method with the page parameter
            Generate(ctx, pageParameter);
        }
        else
        {
            // Handle the case when the "page" parameter is not provided
            ctx.Response.Write("Please provide a 'page' parameter in the query string.");
        }
    }

    // Generate method to write the page parameter back to the page
    private void Generate(HttpContext ctx, string pageContent)
    {
        // Perform any necessary processing on the pageContent if needed

        // Write the pageContent back to the response
        ctx.Response.Write(pageContent);
    }

    public bool IsReusable
    {
        get { return false; }
    }
}